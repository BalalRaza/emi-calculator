(this["webpackJsonpemi-calculator"]=this["webpackJsonpemi-calculator"]||[]).push([[0],{40:function(e,t,a){e.exports=a(50)},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),i=a.n(o),c=a(71),l=a(22),u=a(12),s=a(23),d=a(24),m=a(28),h=a(6),f=a(64),p=function(e){return{root:{height:"100vh",backgroundColor:e.palette.background.default,display:"flex",justifyContent:"center",alignItems:"center"},paper:{backgroundColor:e.palette.common.white,width:"40%",padding:20}}},v=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).state={hasError:!1},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.hasError?r.a.createElement("div",{className:e.root},r.a.createElement(f.a,{variant:"h4"},"Something went wrong. We shall soon fix this.")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),g=Object(h.a)(p)(v),b=a(34),E=a(69),C=a(70),y=a(67),j=a(75);var O=function(e){var t=e.amount;if(!t)return"-";var a=function(e){if(0===e)return e;var t=e.toString();-1!==t.indexOf(".")&&(t=t.substring(0,t.indexOf(".")));var a=t.substring(t.length-3),n=t.substring(0,t.length-3);return""!==n&&(a=",".concat(a)),n.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a}(t);return e.padWithSpaces?" \u20b9".concat(a," "):"\u20b9".concat(a)},k=a(66),x=Object(k.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"},title:{fontWeight:"bold"}}}));var w=function(e){var t=x();return r.a.createElement("div",{className:t.root},r.a.createElement("div",null,r.a.createElement(f.a,{variant:"h4",color:"primary",className:t.title},"Upto",r.a.createElement(O,{amount:e.eligibleLoanAmount,padWithSpaces:!0})),r.a.createElement(f.a,{variant:"overline",className:t.subtitle},"Eligible Loan Amount")),r.a.createElement("div",null,r.a.createElement(y.a,{"aria-label":"info"},r.a.createElement(j.a,{color:"secondary"}))))},S=a(72);function N(e,t){var a;return e.forEach((function(e){a||(a=e[t]),e[t]>a&&(a=e[t])})),a}function D(e){return!!e&&0===e.length}var A=function(){return{sliderHeading:{display:"flex",justifyContent:"space-between"},textBold:{fontWeight:"bold"}}};var U=Object(h.a)(A)((function(e){var t=e.classes,a=e.sliderData,n=e.selectedAmount,o=function(e,t){var a;return e.forEach((function(e){a||(a=e[t]),e[t]<a&&(a=e[t])})),a}(a,"amount"),i=N(a,"amount"),c=a.map((function(e){return{value:Number(e.amount)}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.sliderHeading},r.a.createElement(f.a,{variant:"overline"},"Select Advance Amount"),r.a.createElement(f.a,{variant:"h5",color:"secondary",className:t.textBold},r.a.createElement(O,{amount:n}))),r.a.createElement(S.a,{"aria-label":"select advanced amount",color:"secondary",min:o,max:i,marks:c,step:null,onChange:function(t,a){return e.onChangeSlider(a)},value:n,disabled:1===a.length}))})),W=a(2),B=a(73),L=a(35),F=a.n(L).a[500],J=function(e){return{container:{flexWrap:"wrap",display:"flex"},chip:{marginTop:e.spacing(1),marginBottom:e.spacing(1),borderWidth:2,borderColor:F},chipLabels:{textTransform:"uppercase",fontWeight:"bold",color:F},activeChipLabel:{color:e.palette.common.white}}};var T=Object(h.a)(J)((function(e){var t=e.classes,a=e.data,n=e.selectedDuration,o=function(e){return e.reduce((function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"".concat(t.duration," ").concat(t.durationUnit);return e[r]?e[r].push(t):e[r]=[t],e}),{})}(a),i=Object.values(o).map((function(e){return{duration:e[0].duration,durationUnit:e[0].durationUnit}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"overline"},"Loan Duration"),r.a.createElement("div",{className:t.container},i.map((function(a){var o=a.duration,i=a.durationUnit,c="".concat(o," ").concat(i),l=n===c;return r.a.createElement(B.a,{key:c,label:c,onClick:function(){return e.handleChipClick({duration:o,durationUnit:i})},clickable:!0,variant:l?"default":"outlined",color:l?"secondary":"default",classes:{root:t.chip,label:Object(W.a)(t.chipLabels,l&&t.activeChipLabel)}})}))))})),H=function(e){return{root:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}};var I=Object(h.a)(H)((function(e){var t=e.classes,a=e.data,n=e.selectedAmount,o=e.selectedDuration,i=e.sliderData;return r.a.createElement("div",{className:t.root},r.a.createElement(U,{sliderData:i,selectedAmount:n,onChangeSlider:e.onChangeSlider}),r.a.createElement(T,{data:a,selectedDuration:o,handleChipClick:e.handleChipClick}))})),M=Object(k.a)((function(e){return{root:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-between"},amount:{fontWeight:"bold"}}}));var P=function(e){var t=M();return r.a.createElement("div",{className:t.root},r.a.createElement("div",null,r.a.createElement(f.a,{variant:"overline"},"Calculated EMI"),r.a.createElement(f.a,{variant:"h5",color:"primary",className:t.amount},r.a.createElement(O,{amount:e.emiAmount}))),r.a.createElement("div",null,r.a.createElement(y.a,{className:t.iconButton,"aria-label":"info"},r.a.createElement(j.a,{color:"secondary"}))))},G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],selected:{duration:6,durationUnit:"MONTH",amount:2e4}},a.handleChipClick=function(e){var t=e.duration,n=e.durationUnit,r=N(a.getProductsForDuration({duration:t,durationUnit:n}),"amount");a.setState({selected:{duration:t,durationUnit:n,amount:r}})},a.onChangeSlider=function(e){a.setState({selected:Object(b.a)({},a.state.selected,{amount:e})})},a.getProductsForDuration=function(e){var t=[],n=["duration","durationUnit"];return a.state.data.forEach((function(a){var r=!0;n.forEach((function(t){e[t]!==a[t]&&(r=!1)})),r&&t.push(a)})),t},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;if(D(this.state.data))return this.fetchData().then((function(t){return e=t.clone(),t.json()})).then((function(e){return t.setState({data:e})})).catch((function(a){if(a instanceof SyntaxError)return t.fixAndGetJson(e).then((function(e){return t.setState({data:e})}))}))}},{key:"fetchData",value:function(){return fetch("https://prr7fx7sh0.execute-api.ap-south-1.amazonaws.com/dev/pten/products")}},{key:"fixAndGetJson",value:function(e){return e.text().then((function(e){var t=e.replace(/("id": \d)/gi,"$&,");return JSON.parse(t)}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.data;if(D(a))return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{color:"secondary"}));var n=N(a,"amount"),o=this.state.selected,i=o.duration,c=o.durationUnit,l="".concat(i," ").concat(c),u=this.getProductsForDuration(this.state.selected),s=u.find((function(t){return t.amount===e.state.selected.amount})).emiAmount;return r.a.createElement("div",{className:t.root},r.a.createElement(C.a,{className:t.paper},r.a.createElement(w,{eligibleLoanAmount:n}),r.a.createElement(I,{data:a,selectedAmount:this.state.selected.amount,selectedDuration:l,onChangeSlider:this.onChangeSlider,handleChipClick:this.handleChipClick,sliderData:u}),r.a.createElement(P,{emiAmount:s})))}}]),t}(r.a.Component),$=Object(h.a)(p)(G),z=(a(49),a(36)),q=a(74),K=Object(z.a)({palette:{primary:{main:"#194167"},secondary:{main:"#30B299"}}}),Q=Object(q.a)(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,{theme:Q},r.a.createElement(g,null,r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.09c2e3e1.chunk.js.map